{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-lightbox\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../../shared/components/image/image.component\";\nfunction GalleryDefaultComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"New\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryDefaultComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \"Sale\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryDefaultComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 13);\n    i0.ɵɵtext(1, \"Top\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryDefaultComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1, \"Out Of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryDefaultComponent_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function GalleryDefaultComponent_a_11_Template_a_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r6 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.changeImage($event, i_r6));\n    });\n    i0.ɵɵelement(1, \"molla-image\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", \"product-gallery-item\" + (i_r6 === ctx_r4.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r4.SERVER_URL + ctx_r4.product.sm_pictures[i_r6].url);\n  }\n}\nexport let GalleryDefaultComponent = /*#__PURE__*/(() => {\n  class GalleryDefaultComponent {\n    constructor(lightBox) {\n      this.lightBox = lightBox;\n      this.adClass = 'product-gallery-vertical';\n      this.paddingTop = '100%';\n      this.currentIndex = 0;\n      this.album = [];\n      this.lightBoxOption = {\n        showImageNumberLabel: true,\n        centerVertically: true,\n        showZoom: true,\n        fadeDuration: .2,\n        albumLabel: \"%1 / %2\"\n      };\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    closeLightBox(event) {\n      this.lightBox.close();\n    }\n    ngOnChanges() {\n      this.album = [];\n      for (let i = 0; i < this.product.pictures.length; i++) {\n        this.album.push({\n          src: this.SERVER_URL + this.product.pictures[i].url,\n          thumb: this.SERVER_URL + this.product.sm_pictures[i].url,\n          caption: this.product.name\n        });\n      }\n    }\n    ngOnInit() {\n      this.paddingTop = Math.floor(parseFloat(this.product.pictures[0].height.toString()) / parseFloat(this.product.pictures[0].width.toString()) * 1000) / 10 + '%';\n    }\n    changeImage($event, index = 0) {\n      this.currentIndex = index;\n      $event.preventDefault();\n    }\n    openLightBox() {\n      this.lightBox.open(this.album, this.currentIndex, this.lightBoxOption);\n    }\n    static {\n      this.ɵfac = function GalleryDefaultComponent_Factory(t) {\n        return new (t || GalleryDefaultComponent)(i0.ɵɵdirectiveInject(i1.Lightbox));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GalleryDefaultComponent,\n        selectors: [[\"product-gallery-default\"]],\n        hostBindings: function GalleryDefaultComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"resize\", function GalleryDefaultComponent_resize_HostBindingHandler($event) {\n              return ctx.closeLightBox($event);\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        inputs: {\n          product: \"product\",\n          adClass: \"adClass\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 12,\n        vars: 8,\n        consts: [[1, \"row\", \"m-0\"], [1, \"product-main-image\"], [\"class\", \"product-label label-new\", 4, \"ngIf\"], [\"class\", \"product-label label-sale\", 4, \"ngIf\"], [\"class\", \"product-label label-top\", 4, \"ngIf\"], [\"class\", \"product-label label-out\", 4, \"ngIf\"], [1, \"d-block\", \"position-relative\", 3, \"src\"], [\"href\", \"javascript:;\", 1, \"btn-product-gallery\", 3, \"click\"], [1, \"icon-arrows\"], [\"id\", \"product-zoom-gallery\", 1, \"product-image-gallery\"], [\"href\", \"#\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-label\", \"label-new\"], [1, \"product-label\", \"label-sale\"], [1, \"product-label\", \"label-top\"], [1, \"product-label\", \"label-out\"], [\"href\", \"#\", 3, \"ngClass\", \"click\"], [\"alt\", \"Product side\", 1, \"product-image\", 3, \"src\"]],\n        template: function GalleryDefaultComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"figure\", 1);\n            i0.ɵɵtemplate(3, GalleryDefaultComponent_span_3_Template, 2, 0, \"span\", 2);\n            i0.ɵɵtemplate(4, GalleryDefaultComponent_span_4_Template, 2, 0, \"span\", 3);\n            i0.ɵɵtemplate(5, GalleryDefaultComponent_span_5_Template, 2, 0, \"span\", 4);\n            i0.ɵɵtemplate(6, GalleryDefaultComponent_span_6_Template, 2, 0, \"span\", 5);\n            i0.ɵɵelement(7, \"molla-image\", 6);\n            i0.ɵɵelementStart(8, \"a\", 7);\n            i0.ɵɵlistener(\"click\", function GalleryDefaultComponent_Template_a_click_8_listener() {\n              return ctx.openLightBox();\n            });\n            i0.ɵɵelement(9, \"i\", 8);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 9);\n            i0.ɵɵtemplate(11, GalleryDefaultComponent_a_11_Template, 2, 2, \"a\", 10);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵclassMap(\"product-gallery \" + ctx.adClass);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.new);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.sale_price);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.top);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.product.stock || ctx.product.stock == 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"src\", ctx.SERVER_URL + ctx.product.pictures[ctx.currentIndex].url);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngForOf\", ctx.product.pictures);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.ImageComponent]\n      });\n    }\n  }\n  return GalleryDefaultComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}