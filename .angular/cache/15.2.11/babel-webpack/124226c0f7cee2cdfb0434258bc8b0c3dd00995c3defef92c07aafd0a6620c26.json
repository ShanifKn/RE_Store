{"ast":null,"code":"import { shopData } from '../../data';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ng2-nouislider\";\nconst _c0 = [\"priceSlider\"];\nconst _c1 = function (a0) {\n  return {\n    category: a0\n  };\n};\nfunction ShopSidebarOneComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"a\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 30);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(3, _c1, item_r5.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.count);\n  }\n}\nfunction ShopSidebarOneComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 31)(2, \"input\", 32);\n    i0.ɵɵlistener(\"change\", function ShopSidebarOneComponent_div_22_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onAttrClick(\"size\", item_r6.slug));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const index_r7 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"size-\" + index_r7)(\"checked\", ctx_r1.containsAttrInUrl(\"size\", item_r6.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"size-\" + index_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r6.size);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    color: a0,\n    page: 1\n  };\n};\nfunction ShopSidebarOneComponent_a_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 34)(1, \"span\", 35);\n    i0.ɵɵtext(2, \"Color Name\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"background-color\", item_r10.color);\n    i0.ɵɵclassProp(\"selected\", ctx_r2.containsAttrInUrl(\"color\", item_r10.color_name));\n    i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(5, _c2, ctx_r2.getUrlForAttrs(\"color\", item_r10.color_name)));\n  }\n}\nfunction ShopSidebarOneComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 31)(2, \"input\", 36);\n    i0.ɵɵlistener(\"click\", function ShopSidebarOneComponent_div_38_Template_input_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r11 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onAttrClick(\"brand\", item_r11.slug));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r11 = ctx.$implicit;\n    const id_r12 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"brand-\" + id_r12)(\"checked\", ctx_r3.containsAttrInUrl(\"brand\", item_r11.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"brand-\" + id_r12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r11.brand);\n  }\n}\nconst _c3 = function () {\n  return [true, true, true];\n};\nexport let ShopSidebarOneComponent = /*#__PURE__*/(() => {\n  class ShopSidebarOneComponent {\n    constructor(activeRoute, router) {\n      this.activeRoute = activeRoute;\n      this.router = router;\n      this.toggle = false;\n      this.shopData = shopData;\n      this.params = {};\n      this.priceRange = [0, 100];\n      activeRoute.queryParams.subscribe(params => {\n        this.params = params;\n        if (params['minPrice'] && params['maxPrice']) {\n          this.priceRange = [params['minPrice'] / 10, params['maxPrice'] / 10];\n        } else {\n          this.priceRange = [0, 100];\n          if (this.priceSlider) {\n            this.priceSlider.slider.reset({\n              min: 0,\n              max: 100\n            });\n          }\n        }\n      });\n    }\n    ngOnInit() {}\n    containsAttrInUrl(type, value) {\n      const currentQueries = this.params[type] ? this.params[type].split(',') : [];\n      return currentQueries && currentQueries.includes(value);\n    }\n    getUrlForAttrs(type, value) {\n      let currentQueries = this.params[type] ? this.params[type].split(',') : [];\n      currentQueries = this.containsAttrInUrl(type, value) ? currentQueries.filter(item => item !== value) : [...currentQueries, value];\n      return currentQueries.join(',');\n    }\n    onAttrClick(attr, value) {\n      let url = this.getUrlForAttrs(attr, value);\n      this.router.navigate([], {\n        queryParams: {\n          [attr]: this.getUrlForAttrs(attr, value),\n          page: 1\n        },\n        queryParamsHandling: 'merge'\n      });\n    }\n    filterPrice() {\n      this.router.navigate([], {\n        queryParams: {\n          minPrice: this.priceRange[0] * 10,\n          maxPrice: this.priceRange[1] * 10,\n          page: 1\n        },\n        queryParamsHandling: 'merge'\n      });\n    }\n    changeFilterPrice(value) {\n      this.priceRange = [value[0], value[1]];\n    }\n    static {\n      this.ɵfac = function ShopSidebarOneComponent_Factory(t) {\n        return new (t || ShopSidebarOneComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ShopSidebarOneComponent,\n        selectors: [[\"re-store-shop-sidebar-one\"]],\n        viewQuery: function ShopSidebarOneComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.priceSlider = _t.first);\n          }\n        },\n        inputs: {\n          toggle: \"toggle\"\n        },\n        decls: 56,\n        vars: 16,\n        consts: [[1, \"sidebar-shop\", 3, \"ngClass\"], [1, \"widget\", \"widget-clean\"], [1, \"sidebar-filter-clear\", 3, \"routerLink\"], [1, \"widget\", \"widget-collapsible\"], [1, \"widget-title\", \"mb-2\"], [\"data-toggle\", \"collapse\", \"href\", \"#widget-1\", \"role\", \"button\", \"aria-expanded\", \"true\", \"aria-controls\", \"widget-1\"], [\"id\", \"widget-1\", 1, \"collapse\", \"show\"], [1, \"widget-body\", \"pt-0\"], [1, \"filter-items\", \"filter-items-count\"], [\"class\", \"filter-item\", 4, \"ngFor\", \"ngForOf\"], [\"data-toggle\", \"collapse\", \"href\", \"#widget-2\", \"role\", \"button\", \"aria-expanded\", \"true\", \"aria-controls\", \"widget-2\"], [\"id\", \"widget-2\", 1, \"collapse\", \"show\"], [1, \"filter-items\"], [\"data-toggle\", \"collapse\", \"href\", \"#widget-3\", \"role\", \"button\", \"aria-expanded\", \"true\", \"aria-controls\", \"widget-3\"], [\"id\", \"widget-3\", 1, \"collapse\", \"show\"], [1, \"filter-colors\"], [\"queryParamsHandling\", \"merge\", 3, \"routerLink\", \"queryParams\", \"background-color\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"data-toggle\", \"collapse\", \"href\", \"#widget-4\", \"role\", \"button\", \"aria-expanded\", \"true\", \"aria-controls\", \"widget-4\"], [\"id\", \"widget-4\", 1, \"collapse\", \"show\"], [\"data-toggle\", \"collapse\", \"href\", \"#widget-5\", \"role\", \"button\", \"aria-expanded\", \"true\", \"aria-controls\", \"widget-5\"], [\"id\", \"widget-5\", 1, \"collapse\", \"show\"], [1, \"filter-price\"], [1, \"filter-price-text\", \"d-flex\", \"justify-content-between\"], [1, \"filter-price-range\"], [1, \"pr-2\", 3, \"click\"], [1, \"price-slider\"], [2, \"padding\", \"0 1.5rem\", 3, \"connect\", \"ngModel\", \"min\", \"max\", \"step\", \"pageSteps\", \"change\"], [\"priceSlider\", \"\"], [1, \"filter-item\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\", \"queryParams\"], [1, \"item-count\"], [1, \"custom-control\", \"custom-checkbox\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", 3, \"id\", \"checked\", \"change\"], [1, \"custom-control-label\", 3, \"for\"], [\"queryParamsHandling\", \"merge\", 3, \"routerLink\", \"queryParams\"], [1, \"sr-only\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", 3, \"id\", \"checked\", \"click\"]],\n        template: function ShopSidebarOneComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"div\", 1)(3, \"label\");\n            i0.ɵɵtext(4, \"Filters:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"a\", 2);\n            i0.ɵɵtext(6, \"Clean All\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 3)(8, \"h3\", 4)(9, \"a\", 5);\n            i0.ɵɵtext(10, \" Category \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 6)(12, \"div\", 7)(13, \"div\", 8);\n            i0.ɵɵtemplate(14, ShopSidebarOneComponent_div_14_Template, 5, 5, \"div\", 9);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(15, \"div\", 3)(16, \"h3\", 4)(17, \"a\", 10);\n            i0.ɵɵtext(18, \" Size \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 11)(20, \"div\", 7)(21, \"div\", 12);\n            i0.ɵɵtemplate(22, ShopSidebarOneComponent_div_22_Template, 5, 4, \"div\", 9);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(23, \"div\", 3)(24, \"h3\", 4)(25, \"a\", 13);\n            i0.ɵɵtext(26, \" Colour \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"div\", 14)(28, \"div\", 7)(29, \"div\", 15);\n            i0.ɵɵtemplate(30, ShopSidebarOneComponent_a_30_Template, 3, 7, \"a\", 16);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(31, \"div\", 3)(32, \"h3\", 4)(33, \"a\", 17);\n            i0.ɵɵtext(34, \" Brand \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(35, \"div\", 18)(36, \"div\", 7)(37, \"div\", 12);\n            i0.ɵɵtemplate(38, ShopSidebarOneComponent_div_38_Template, 5, 4, \"div\", 9);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(39, \"div\", 3)(40, \"h3\", 4)(41, \"a\", 19);\n            i0.ɵɵtext(42, \" Price \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(43, \"div\", 20)(44, \"div\", 7)(45, \"div\", 21)(46, \"div\", 22)(47, \"span\");\n            i0.ɵɵtext(48, \" Price Range:\\u00A0 \");\n            i0.ɵɵelementStart(49, \"span\", 23);\n            i0.ɵɵtext(50);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(51, \"button\", 24);\n            i0.ɵɵlistener(\"click\", function ShopSidebarOneComponent_Template_button_click_51_listener() {\n              return ctx.filterPrice();\n            });\n            i0.ɵɵtext(52, \"Filter\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(53, \"div\", 25)(54, \"nouislider\", 26, 27);\n            i0.ɵɵlistener(\"change\", function ShopSidebarOneComponent_Template_nouislider_change_54_listener($event) {\n              return ctx.changeFilterPrice($event);\n            });\n            i0.ɵɵelementEnd()()()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngClass\", ctx.toggle ? \"sidebar-filter\" : \"sidebar\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassProp(\"sidebar-filter-wrapper\", ctx.toggle);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.categories);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.sizes);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.colors);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.brands);\n            i0.ɵɵadvance(12);\n            i0.ɵɵtextInterpolate2(\"$\", ctx.priceRange[0] * 10, \" - $\", ctx.priceRange[1] * 10, \"\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"connect\", i0.ɵɵpureFunction0(15, _c3))(\"ngModel\", ctx.priceRange)(\"min\", 0)(\"max\", 100)(\"step\", 5)(\"pageSteps\", 1);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i1.RouterLink, i1.RouterLinkActive, i3.NouisliderComponent],\n        styles: [\"@media screen and (min-width: 992px){.sidebar[_ngcontent-%COMP%]{position:sticky;top:70px}}\"]\n      });\n    }\n  }\n  return ShopSidebarOneComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}