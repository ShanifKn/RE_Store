{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/wishlist.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../shared/components/page-header/page-header.component\";\nimport * as i4 from \"../../../shared/components/image/image.component\";\nimport * as i5 from \"@angular/router\";\nfunction WishlistComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 12);\n    i0.ɵɵelement(2, \"i\", 13);\n    i0.ɵɵelementStart(3, \"span\", 14);\n    i0.ɵɵtext(4, \"No products added to wishlist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 15);\n    i0.ɵɵtext(6, \"Go Shop\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"span\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", product_r4.price.toFixed(2), \"\");\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_ng_template_11_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" $\", product_r4.minPrice.toFixed(2), \" \");\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"span\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 52);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", product_r4.minPrice.toFixed(2), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", product_r4.maxPrice.toFixed(2), \"\");\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" $\", product_r4.minPrice.toFixed(2), \"\\u2013$\", product_r4.maxPrice.toFixed(2), \" \");\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_div_0_Template, 5, 2, \"div\", 38);\n    i0.ɵɵtemplate(1, WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_ng_template_1_Template, 2, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r18 = i0.ɵɵreference(2);\n    const product_r4 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"ngIf\", product_r4.variants.length == 0)(\"ngIfElse\", _r18);\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, WishlistComponent_ng_template_15_tr_13_ng_template_11_div_0_Template, 2, 1, \"div\", 38);\n    i0.ɵɵtemplate(1, WishlistComponent_ng_template_15_tr_13_ng_template_11_ng_template_1_Template, 3, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r14 = i0.ɵɵreference(2);\n    const product_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngIf\", product_r4.minPrice == product_r4.maxPrice)(\"ngIfElse\", _r14);\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53);\n    i0.ɵɵtext(1, \"In stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 54);\n    i0.ɵɵtext(1, \"Out of stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_ng_template_15_tr_13_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const product_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.wishlistService.moveToCart(product_r4));\n    });\n    i0.ɵɵelement(1, \"i\", 56);\n    i0.ɵɵtext(2, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WishlistComponent_ng_template_15_tr_13_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 57);\n    i0.ɵɵtext(1, \"Out of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return [a0];\n};\nfunction WishlistComponent_ng_template_15_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 31)(2, \"div\", 32)(3, \"figure\", 33)(4, \"a\", 34);\n    i0.ɵɵelement(5, \"re-store-image\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"h3\", 36)(7, \"a\", 34);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"td\", 37);\n    i0.ɵɵtemplate(10, WishlistComponent_ng_template_15_tr_13_div_10_Template, 3, 1, \"div\", 38);\n    i0.ɵɵtemplate(11, WishlistComponent_ng_template_15_tr_13_ng_template_11_Template, 3, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 40);\n    i0.ɵɵtemplate(14, WishlistComponent_ng_template_15_tr_13_span_14_Template, 2, 0, \"span\", 41);\n    i0.ɵɵtemplate(15, WishlistComponent_ng_template_15_tr_13_span_15_Template, 2, 0, \"span\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 43);\n    i0.ɵɵtemplate(17, WishlistComponent_ng_template_15_tr_13_button_17_Template, 3, 0, \"button\", 44);\n    i0.ɵɵtemplate(18, WishlistComponent_ng_template_15_tr_13_button_18_Template, 2, 0, \"button\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 46)(20, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_ng_template_15_tr_13_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.wishlistService.removeFromWishList(product_r4));\n    });\n    i0.ɵɵelement(21, \"i\", 48);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    const _r6 = i0.ɵɵreference(12);\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, \"/product/default/\" + product_r4.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r3.SERVER_URL + product_r4.sm_pictures[0].url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, \"/product/default/\" + product_r4.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !product_r4.stock || product_r4.stock == 0)(\"ngIfElse\", _r6);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", product_r4.stock > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r4.stock < 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r4.stock > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r4.stock < 1);\n  }\n}\nfunction WishlistComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"table\", 16)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Stock Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"th\")(11, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, WishlistComponent_ng_template_15_tr_13_Template, 22, 14, \"tr\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 18)(15, \"div\", 19)(16, \"label\", 20);\n    i0.ɵɵtext(17, \"Share on:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 21);\n    i0.ɵɵelement(19, \"i\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"a\", 23);\n    i0.ɵɵelement(21, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"a\", 25);\n    i0.ɵɵelement(23, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"a\", 27);\n    i0.ɵɵelement(25, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"a\", 29);\n    i0.ɵɵelement(27, \"i\", 30);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.wishItems);\n  }\n}\nexport let WishlistComponent = /*#__PURE__*/(() => {\n  class WishlistComponent {\n    constructor(wishlistService) {\n      this.wishlistService = wishlistService;\n      this.wishItems = [];\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    ngOnInit() {\n      this.subscr = this.wishlistService.wishlistStream.subscribe(items => {\n        this.wishItems = items.reduce((acc, product) => {\n          let max = 0;\n          let min = 999999;\n          product.variants.map(item => {\n            if (min > item.price) min = item.price;\n            if (max < item.price) max = item.price;\n          }, []);\n          if (product.variants.length == 0) {\n            min = product.sale_price ? product.sale_price : product.price;\n            max = product.price;\n          }\n          return [...acc, {\n            ...product,\n            minPrice: min,\n            maxPrice: max\n          }];\n        }, []);\n      });\n    }\n    ngOnDestroy() {\n      this.subscr.unsubscribe();\n    }\n    static {\n      this.ɵfac = function WishlistComponent_Factory(t) {\n        return new (t || WishlistComponent)(i0.ɵɵdirectiveInject(i1.WishlistService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: WishlistComponent,\n        selectors: [[\"shop-wishlist-page\"]],\n        decls: 17,\n        vars: 2,\n        consts: [[1, \"main\"], [\"title\", \"Wishlist\", \"subtitle\", \"Shop\"], [1, \"breadcrumb-nav\"], [1, \"container\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\"], [\"routerLink\", \"/shop/sidebar/list\"], [1, \"breadcrumb-item\", \"active\"], [1, \"page-content\"], [\"class\", \"container\", 4, \"ngIf\", \"ngIfElse\"], [\"wishlistBlock\", \"\"], [1, \"text-center\"], [1, \"icon-heart-o\", \"wishlist-empty\", \"d-block\", 2, \"font-size\", \"15rem\", \"line-height\", \"1\"], [1, \"d-block\", \"mt-2\"], [\"routerLink\", \"/shop/sidebar/list\", 1, \"btn\", \"btn-primary\", \"mt-2\"], [1, \"table\", \"table-wishlist\", \"table-mobile\"], [4, \"ngFor\", \"ngForOf\"], [1, \"wishlist-share\"], [1, \"social-icons\", \"social-icons-sm\", \"mb-2\"], [1, \"social-label\"], [\"href\", \"javascript:;\", \"title\", \"Facebook\", 1, \"social-icon\"], [1, \"icon-facebook-f\"], [\"href\", \"javascript:;\", \"title\", \"Twitter\", 1, \"social-icon\"], [1, \"icon-twitter\"], [\"href\", \"javascript:;\", \"title\", \"Instagram\", 1, \"social-icon\"], [1, \"icon-instagram\"], [\"href\", \"javascript:;\", \"title\", \"Youtube\", 1, \"social-icon\"], [1, \"icon-youtube\"], [\"href\", \"javascript:;\", \"title\", \"Pinterest\", 1, \"social-icon\"], [1, \"icon-pinterest\"], [1, \"product-col\"], [1, \"product\"], [1, \"product-media\"], [3, \"routerLink\"], [\"alt\", \"Product\", 3, \"src\"], [1, \"product-title\"], [1, \"price-col\"], [\"class\", \"product-price d-inline-block mb-0\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"stock-col\"], [\"class\", \"in-stock\", 4, \"ngIf\"], [\"class\", \"out-of-stock\", 4, \"ngIf\"], [1, \"action-col\"], [\"class\", \"btn btn-block btn-outline-primary-2\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-block btn-outline-primary-2 disabled\", 4, \"ngIf\"], [1, \"remove-col\"], [1, \"btn-remove\", 3, \"click\"], [1, \"icon-close\"], [1, \"product-price\", \"d-inline-block\", \"mb-0\"], [1, \"out-price\"], [1, \"new-price\"], [1, \"old-price\"], [1, \"in-stock\"], [1, \"out-of-stock\"], [1, \"btn\", \"btn-block\", \"btn-outline-primary-2\", 3, \"click\"], [1, \"icon-cart-plus\"], [1, \"btn\", \"btn-block\", \"btn-outline-primary-2\", \"disabled\"]],\n        template: function WishlistComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"main\", 0);\n            i0.ɵɵelement(1, \"re-store-page-header\", 1);\n            i0.ɵɵelementStart(2, \"nav\", 2)(3, \"div\", 3)(4, \"ol\", 4)(5, \"li\", 5)(6, \"a\", 6);\n            i0.ɵɵtext(7, \"Home\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"li\", 5)(9, \"a\", 7);\n            i0.ɵɵtext(10, \"Shop\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"li\", 8);\n            i0.ɵɵtext(12, \"Wishlist\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(13, \"div\", 9);\n            i0.ɵɵtemplate(14, WishlistComponent_div_14_Template, 7, 0, \"div\", 10);\n            i0.ɵɵtemplate(15, WishlistComponent_ng_template_15_Template, 28, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            const _r1 = i0.ɵɵreference(16);\n            i0.ɵɵadvance(14);\n            i0.ɵɵproperty(\"ngIf\", ctx.wishItems.length == 0)(\"ngIfElse\", _r1);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.PageHeaderComponent, i4.ImageComponent, i5.RouterLink]\n      });\n    }\n  }\n  return WishlistComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}