{"ast":null,"code":"import { shopData } from '../../data';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    category: a0\n  };\n};\nfunction ShopSidebarThreeComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"a\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 17);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(3, _c0, item_r5.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.count);\n  }\n}\nfunction ShopSidebarThreeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 18)(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function ShopSidebarThreeComponent_div_17_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onAttrClick(\"brand\", item_r6.slug));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 20);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const index_r7 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"brand-\" + index_r7)(\"checked\", ctx_r1.containsAttrInUrl(\"brand\", item_r6.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"brand-\" + index_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r6.brand);\n  }\n}\nfunction ShopSidebarThreeComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 18)(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function ShopSidebarThreeComponent_div_25_Template_input_change_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r10 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onPriceChange($event, item_r10));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 20);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const index_r11 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"price-\" + index_r11)(\"checked\", ctx_r2.containsPriceInUrl(item_r10));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"price-\" + index_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r10.name);\n  }\n}\nfunction ShopSidebarThreeComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 18)(2, \"input\", 19);\n    i0.ɵɵlistener(\"change\", function ShopSidebarThreeComponent_div_33_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const item_r14 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onAttrClick(\"rating\", item_r14.toString()));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 20)(4, \"span\", 21)(5, \"span\", 22);\n    i0.ɵɵelement(6, \"span\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"span\", 24);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r14 = ctx.$implicit;\n    const index_r15 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"rating-\" + index_r15)(\"checked\", ctx_r3.containsAttrInUrl(\"rating\", item_r14.toString()));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"rating-\" + index_r15);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", item_r14 * 20 + \"%\");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    color: a0,\n    page: 1\n  };\n};\nfunction ShopSidebarThreeComponent_a_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 25)(1, \"span\", 26);\n    i0.ɵɵtext(2, \"Color Name\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r18 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"background-color\", item_r18.color);\n    i0.ɵɵclassProp(\"selected\", ctx_r4.containsAttrInUrl(\"color\", item_r18.color_name));\n    i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(5, _c1, ctx_r4.getUrlForAttrs(\"color\", item_r18.color_name)));\n  }\n}\nconst _c2 = function () {\n  return [5, 4, 3, 2, 1];\n};\nexport let ShopSidebarThreeComponent = /*#__PURE__*/(() => {\n  class ShopSidebarThreeComponent {\n    constructor(activeRoute, router) {\n      this.activeRoute = activeRoute;\n      this.router = router;\n      this.toggle = false;\n      this.shopData = shopData;\n      this.params = {};\n      activeRoute.queryParams.subscribe(params => {\n        this.params = params;\n      });\n    }\n    ngOnInit() {}\n    containsAttrInUrl(type, value) {\n      const currentQueries = this.params[type] ? this.params[type].split(',') : [];\n      return currentQueries && currentQueries.includes(value);\n    }\n    containsPriceInUrl(price) {\n      let flag = false;\n      if (this.params['minPrice'] && this.params['minPrice'] == price.min) flag = true;else return false;\n      if (price.max) {\n        if (this.params['maxPrice'] && this.params['maxPrice'] == price.max) flag = true;else return false;\n      }\n      return true;\n    }\n    getUrlForAttrs(type, value) {\n      let currentQueries = this.params[type] ? this.params[type].split(',') : [];\n      currentQueries = this.containsAttrInUrl(type, value) ? currentQueries.filter(item => item !== value) : [...currentQueries, value];\n      return currentQueries.join(',');\n    }\n    onAttrClick(attr, value) {\n      this.router.navigate([], {\n        queryParams: {\n          [attr]: this.getUrlForAttrs(attr, value),\n          page: 1\n        },\n        queryParamsHandling: 'merge'\n      });\n    }\n    onPriceChange(event, value) {\n      let queryParams;\n      if (event.currentTarget.checked) {\n        queryParams = {\n          ...queryParams,\n          minPrice: value.min,\n          maxPrice: value.max,\n          page: 1\n        };\n      } else {\n        queryParams = {\n          ...queryParams,\n          minPrice: 0,\n          maxPrice: 9999,\n          page: 1\n        };\n      }\n      this.router.navigate([], {\n        queryParams: queryParams,\n        queryParamsHandling: 'merge'\n      });\n    }\n    static {\n      this.ɵfac = function ShopSidebarThreeComponent_Factory(t) {\n        return new (t || ShopSidebarThreeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ShopSidebarThreeComponent,\n        selectors: [[\"molla-shop-sidebar-three\"]],\n        inputs: {\n          toggle: \"toggle\"\n        },\n        decls: 42,\n        vars: 8,\n        consts: [[1, \"sidebar-shop\", 3, \"ngClass\"], [3, \"ngClass\"], [1, \"widget\"], [1, \"widget-title\", \"mb-2\"], [\"id\", \"widget-1\", 1, \"collapse\", \"show\"], [1, \"widget-body\"], [1, \"filter-items\", \"filter-items-count\"], [\"class\", \"filter-item\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"widget-2\", 1, \"collapse\", \"show\"], [1, \"filter-items\"], [\"id\", \"widget-3\", 1, \"collapse\", \"show\"], [\"id\", \"widget-4\", 1, \"collapse\", \"show\"], [\"id\", \"widget-5\", 1, \"collapse\", \"show\"], [1, \"filter-colors\"], [\"queryParamsHandling\", \"merge\", 3, \"routerLink\", \"queryParams\", \"background-color\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [1, \"filter-item\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\", \"queryParams\"], [1, \"item-count\"], [1, \"custom-control\", \"custom-checkbox\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", 3, \"id\", \"checked\", \"change\"], [1, \"custom-control-label\", 3, \"for\"], [1, \"ratings-container\"], [1, \"ratings\"], [1, \"ratings-val\"], [1, \"ratings-text\"], [\"queryParamsHandling\", \"merge\", 3, \"routerLink\", \"queryParams\"], [1, \"sr-only\"]],\n        template: function ShopSidebarThreeComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3)(4, \"span\");\n            i0.ɵɵtext(5, \" Category \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6);\n            i0.ɵɵtemplate(9, ShopSidebarThreeComponent_div_9_Template, 5, 5, \"div\", 7);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(10, \"div\", 2)(11, \"h3\", 3)(12, \"span\");\n            i0.ɵɵtext(13, \" Brands \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 5)(16, \"div\", 9);\n            i0.ɵɵtemplate(17, ShopSidebarThreeComponent_div_17_Template, 5, 4, \"div\", 7);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(18, \"div\", 2)(19, \"h3\", 3)(20, \"span\");\n            i0.ɵɵtext(21, \" Price \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(22, \"div\", 10)(23, \"div\", 5)(24, \"div\", 9);\n            i0.ɵɵtemplate(25, ShopSidebarThreeComponent_div_25_Template, 5, 4, \"div\", 7);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(26, \"div\", 2)(27, \"h3\", 3)(28, \"span\");\n            i0.ɵɵtext(29, \" Customer Rating \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(30, \"div\", 11)(31, \"div\", 5)(32, \"div\", 9);\n            i0.ɵɵtemplate(33, ShopSidebarThreeComponent_div_33_Template, 8, 5, \"div\", 7);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(34, \"div\", 2)(35, \"h3\", 3)(36, \"span\");\n            i0.ɵɵtext(37, \" Colour \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(38, \"div\", 12)(39, \"div\", 5)(40, \"div\", 13);\n            i0.ɵɵtemplate(41, ShopSidebarThreeComponent_a_41_Template, 3, 7, \"a\", 14);\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngClass\", ctx.toggle ? \"sidebar-filter\" : \"sidebar\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngClass\", ctx.toggle ? \"sidebar-filter-wrapper\" : \"\");\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.categories);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.brands);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.prices);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(7, _c2));\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngForOf\", ctx.shopData.colors);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i1.RouterLink, i1.RouterLinkActive],\n        styles: [\"@media screen and (min-width: 992px){.sidebar[_ngcontent-%COMP%]{position:sticky;top:80px}}\"]\n      });\n    }\n  }\n  return ShopSidebarThreeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}