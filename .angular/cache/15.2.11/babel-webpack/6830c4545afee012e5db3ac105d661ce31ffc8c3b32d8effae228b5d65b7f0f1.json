{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-lightbox\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../../shared/components/image/image.component\";\nfunction GalleryStickyComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 6);\n    i0.ɵɵtext(1, \"New\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryStickyComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1, \"Sale\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryStickyComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtext(1, \"Top\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryStickyComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtext(1, \"Out Of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryStickyComponent_figure_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"figure\", 10);\n    i0.ɵɵelement(1, \"molla-image\", 11);\n    i0.ɵɵelementStart(2, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function GalleryStickyComponent_figure_5_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openLightBox());\n    });\n    i0.ɵɵelement(3, \"i\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r4.SERVER_URL + item_r5.url);\n  }\n}\nexport let GalleryStickyComponent = /*#__PURE__*/(() => {\n  class GalleryStickyComponent {\n    constructor(lightBox) {\n      this.lightBox = lightBox;\n      this.paddingTop = '100%';\n      this.currentIndex = 0;\n      this.album = [];\n      this.lightBoxOption = {\n        showImageNumberLabel: true,\n        centerVertically: true,\n        showZoom: true,\n        fadeDuration: .2,\n        albumLabel: \"%1 / %2\"\n      };\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    closeLightBox(event) {\n      this.lightBox.close();\n    }\n    ngOnChanges() {\n      this.album = [];\n      for (let i = 0; i < this.product.pictures.length; i++) {\n        this.album.push({\n          src: this.SERVER_URL + this.product.pictures[i].url,\n          thumb: this.SERVER_URL + this.product.sm_pictures[i].url,\n          caption: this.product.name\n        });\n      }\n    }\n    ngOnInit() {\n      this.paddingTop = Math.floor(parseFloat(this.product.pictures[0].height.toString()) / parseFloat(this.product.pictures[0].width.toString()) * 1000) / 10 + '%';\n    }\n    changeImage($event, index = 0) {\n      this.currentIndex = index;\n      $event.preventDefault();\n    }\n    openLightBox() {\n      this.lightBox.open(this.album, this.currentIndex, this.lightBoxOption);\n    }\n    static {\n      this.ɵfac = function GalleryStickyComponent_Factory(t) {\n        return new (t || GalleryStickyComponent)(i0.ɵɵdirectiveInject(i1.Lightbox));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GalleryStickyComponent,\n        selectors: [[\"product-gallery-sticky\"]],\n        hostBindings: function GalleryStickyComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"resize\", function GalleryStickyComponent_resize_HostBindingHandler($event) {\n              return ctx.closeLightBox($event);\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        inputs: {\n          product: \"product\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 6,\n        vars: 5,\n        consts: [[1, \"product-gallery\", \"product-gallery-separated\"], [\"class\", \"product-label label-new\", 4, \"ngIf\"], [\"class\", \"product-label label-sale\", 4, \"ngIf\"], [\"class\", \"product-label label-top\", 4, \"ngIf\"], [\"class\", \"product-label label-out\", 4, \"ngIf\"], [\"class\", \"product-main-image\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-label\", \"label-new\"], [1, \"product-label\", \"label-sale\"], [1, \"product-label\", \"label-top\"], [1, \"product-label\", \"label-out\"], [1, \"product-main-image\"], [1, \"d-block\", \"position-relative\", 3, \"src\"], [\"href\", \"javascript:;\", 1, \"btn-product-gallery\", 3, \"click\"], [1, \"icon-arrows\"]],\n        template: function GalleryStickyComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtemplate(1, GalleryStickyComponent_span_1_Template, 2, 0, \"span\", 1);\n            i0.ɵɵtemplate(2, GalleryStickyComponent_span_2_Template, 2, 0, \"span\", 2);\n            i0.ɵɵtemplate(3, GalleryStickyComponent_span_3_Template, 2, 0, \"span\", 3);\n            i0.ɵɵtemplate(4, GalleryStickyComponent_span_4_Template, 2, 0, \"span\", 4);\n            i0.ɵɵtemplate(5, GalleryStickyComponent_figure_5_Template, 4, 1, \"figure\", 5);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.new);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.sale_price);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.top);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.product.stock || ctx.product.stock == 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.product.pictures);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.ImageComponent]\n      });\n    }\n  }\n  return GalleryStickyComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}