{"ast":null,"code":"import imagesLoaded from 'imagesloaded';\nimport { environment } from 'src/environments/environment';\nimport { sliderOpt } from 'src/app/shared/data';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/api.service\";\nimport * as i2 from \"src/app/shared/services/cart.service\";\nimport * as i3 from \"src/app/shared/services/wishlist.service\";\nimport * as i4 from \"src/app/shared/services/compare.service\";\nimport * as i5 from \"src/app/shared/services/utils.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"angular-owl-carousel\";\nimport * as i9 from \"../../quantity-input/quantity-input.component\";\nimport * as i10 from \"../../image/image.component\";\nconst _c0 = [\"singleSlider\"];\nfunction QuickViewComponent_div_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"New\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuickViewComponent_div_7_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1, \"Sale\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuickViewComponent_div_7_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"Top\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuickViewComponent_div_7_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1, \"Out Of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuickViewComponent_div_7_re_store_image_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"re-store-image\", 26);\n  }\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r8.SERVER_URL + item_r9.url);\n  }\n}\nfunction QuickViewComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, QuickViewComponent_div_7_span_1_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(2, QuickViewComponent_div_7_span_2_Template, 2, 0, \"span\", 16);\n    i0.ɵɵtemplate(3, QuickViewComponent_div_7_span_3_Template, 2, 0, \"span\", 17);\n    i0.ɵɵtemplate(4, QuickViewComponent_div_7_span_4_Template, 2, 0, \"span\", 18);\n    i0.ɵɵelementStart(5, \"owl-carousel\", 19, 20);\n    i0.ɵɵtemplate(7, QuickViewComponent_div_7_re_store_image_7_Template, 1, 1, \"re-store-image\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.new);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.sale_price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.top);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.product.stock || ctx_r0.product.stock == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"options\", ctx_r0.options);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.product.pictures);\n  }\n}\nfunction QuickViewComponent_div_8_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_8_a_1_Template_a_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const i_r13 = restoredCtx.index;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.changeImage($event, i_r13));\n    });\n    i0.ɵɵelement(1, \"re-store-image\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r13 = ctx.index;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", \"product-gallery-item mb-0 \" + (i_r13 === ctx_r11.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r11.SERVER_URL + ctx_r11.product.sm_pictures[i_r13].url);\n  }\n}\nfunction QuickViewComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, QuickViewComponent_div_8_a_1_Template, 2, 2, \"a\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.product.pictures);\n  }\n}\nfunction QuickViewComponent_div_15_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"span\", 64);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r16.product.price.toFixed(2), \"\");\n  }\n}\nfunction QuickViewComponent_div_15_ng_template_11_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" $\", ctx_r21.minPrice.toFixed(2), \"\");\n  }\n}\nfunction QuickViewComponent_div_15_ng_template_11_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"span\", 65);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 66);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r24.minPrice.toFixed(2), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r24.maxPrice.toFixed(2), \"\");\n  }\n}\nfunction QuickViewComponent_div_15_ng_template_11_ng_template_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" $\", ctx_r26.minPrice.toFixed(2), \"\\u2013$\", ctx_r26.maxPrice.toFixed(2), \" \");\n  }\n}\nfunction QuickViewComponent_div_15_ng_template_11_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, QuickViewComponent_div_15_ng_template_11_ng_template_1_div_0_Template, 5, 2, \"div\", 38);\n    i0.ɵɵtemplate(1, QuickViewComponent_div_15_ng_template_11_ng_template_1_ng_template_1_Template, 2, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r25 = i0.ɵɵreference(2);\n    const ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.product.variants.length == 0)(\"ngIfElse\", _r25);\n  }\n}\nfunction QuickViewComponent_div_15_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, QuickViewComponent_div_15_ng_template_11_div_0_Template, 2, 1, \"div\", 38);\n    i0.ɵɵtemplate(1, QuickViewComponent_div_15_ng_template_11_ng_template_1_Template, 3, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r22 = i0.ɵɵreference(2);\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r18.minPrice == ctx_r18.maxPrice)(\"ngIfElse\", _r22);\n  }\n}\nfunction QuickViewComponent_div_15_div_16_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 77);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_15_div_16_a_5_Template_a_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const item_r30 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r31.selectColor($event, item_r30));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r30 = ctx.$implicit;\n    const ctx_r27 = i0.ɵɵnextContext(3);\n    i0.ɵɵstyleProp(\"background-color\", item_r30.color);\n    i0.ɵɵclassProp(\"active\", item_r30.color == ctx_r27.selectedVariant.color)(\"disabled\", item_r30.disabled);\n  }\n}\nfunction QuickViewComponent_div_15_div_16_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 78);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r33 = ctx.$implicit;\n    const ctx_r28 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"value\", item_r33.size)(\"selected\", item_r33.size == ctx_r28.selectedVariant.size);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r33.size);\n  }\n}\nfunction QuickViewComponent_div_15_div_16_a_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 77);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_15_div_16_a_17_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r34.clearSelection());\n    });\n    i0.ɵɵtext(1, \"clear\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuickViewComponent_div_15_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 44)(2, \"label\");\n    i0.ɵɵtext(3, \"Color:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 67);\n    i0.ɵɵtemplate(5, QuickViewComponent_div_15_div_16_a_5_Template, 1, 6, \"a\", 68);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 44)(7, \"label\", 69);\n    i0.ɵɵtext(8, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 70)(10, \"select\", 71);\n    i0.ɵɵlistener(\"change\", function QuickViewComponent_div_15_div_16_Template_select_change_10_listener($event) {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.selectSize($event));\n    });\n    i0.ɵɵelementStart(11, \"option\", 72);\n    i0.ɵɵtext(12, \"Select a size\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, QuickViewComponent_div_15_div_16_option_13_Template, 2, 3, \"option\", 73);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"a\", 74);\n    i0.ɵɵelement(15, \"i\", 75);\n    i0.ɵɵtext(16, \"size guide\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, QuickViewComponent_div_15_div_16_a_17_Template, 2, 0, \"a\", 76);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.colorArray);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r19.selectedVariant.size);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"selected\", \"\" == ctx_r19.selectedVariant.size);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.sizeArray);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.selectedVariant.color || ctx_r19.selectedVariant.size != \"\");\n  }\n}\nconst _c1 = function () {\n  return [\"/shop/sidebar/list\"];\n};\nconst _c2 = function (a0) {\n  return {\n    category: a0\n  };\n};\nfunction QuickViewComponent_div_15_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"a\", 79);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_15_span_36_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r40.closeQuickView());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r38 = ctx.$implicit;\n    const i_r39 = ctx.index;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1))(\"queryParams\", i0.ɵɵpureFunction1(5, _c2, cat_r38.slug));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cat_r38.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r39 < ctx_r20.product.category.length - 1 ? \",\" : \"\");\n  }\n}\nfunction QuickViewComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"h1\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 33)(4, \"div\", 34);\n    i0.ɵɵelement(5, \"div\", 35);\n    i0.ɵɵelementStart(6, \"span\", 36);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"span\", 37);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, QuickViewComponent_div_15_div_10_Template, 3, 1, \"div\", 38);\n    i0.ɵɵtemplate(11, QuickViewComponent_div_15_ng_template_11_Template, 3, 2, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(13, \"div\", 40)(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, QuickViewComponent_div_15_div_16_Template, 18, 5, \"div\", 41);\n    i0.ɵɵelementStart(17, \"div\", 42)(18, \"div\", 43);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 44)(21, \"label\", 45);\n    i0.ɵɵtext(22, \"Qty:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"re-store-quantity-input\", 46);\n    i0.ɵɵlistener(\"changeQty\", function QuickViewComponent_div_15_Template_re_store_quantity_input_changeQty_23_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.onChangeQty($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 47)(25, \"a\", 48);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_15_Template_a_click_25_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.addCart($event));\n    });\n    i0.ɵɵelementStart(26, \"span\");\n    i0.ɵɵtext(27, \"add to cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 49)(29, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function QuickViewComponent_div_15_Template_a_click_29_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.addToWishlist($event));\n    });\n    i0.ɵɵelementStart(30, \"span\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(32, \"div\", 51)(33, \"div\", 52)(34, \"span\");\n    i0.ɵɵtext(35, \"Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(36, QuickViewComponent_div_15_span_36_Template, 4, 7, \"span\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 54)(38, \"span\", 55);\n    i0.ɵɵtext(39, \"Share:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"a\", 56);\n    i0.ɵɵelement(41, \"i\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"a\", 58);\n    i0.ɵɵelement(43, \"i\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"a\", 60);\n    i0.ɵɵelement(45, \"i\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"a\", 62);\n    i0.ɵɵelement(47, \"i\", 63);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r17 = i0.ɵɵreference(12);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.product.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.product.ratings * 20 + \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.product.ratings.toFixed(2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"( \", ctx_r2.product.review, \" Reviews )\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.product.stock || ctx_r2.product.stock == 0)(\"ngIfElse\", _r17);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.product.short_desc);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.product.variants.length > 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" $\", ctx_r2.selectedVariant.price ? ctx_r2.selectedVariant.price.toFixed(2) : 0, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"max\", ctx_r2.product.stock)(\"value\", ctx_r2.qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"btn-disabled\", !ctx_r2.cartService.canAddToCart(ctx_r2.product, ctx_r2.qty) || ctx_r2.product.variants.length > 0 && !(ctx_r2.selectedVariant.color && ctx_r2.selectedVariant.size != \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"added-to-wishlist\", ctx_r2.isInWishlist());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.isInWishlist() ? \"Go\" : \"Add\", \" to Wishlist\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.product.category);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    loaded: a0\n  };\n};\nexport let QuickViewComponent = /*#__PURE__*/(() => {\n  class QuickViewComponent {\n    constructor(apiService, cartService, wishlistService, compareService, utilsService, router, el) {\n      this.apiService = apiService;\n      this.cartService = cartService;\n      this.wishlistService = wishlistService;\n      this.compareService = compareService;\n      this.utilsService = utilsService;\n      this.router = router;\n      this.el = el;\n      this.slug = '';\n      this.loaded = false;\n      this.options = {\n        ...sliderOpt,\n        dots: false,\n        nav: false,\n        loop: false,\n        onTranslate: e => this.itemChange(e, this)\n      };\n      this.variationGroup = [];\n      this.selectableGroup = [];\n      this.sizeArray = [];\n      this.colorArray = [];\n      this.selectedVariant = {\n        color: null,\n        colorName: null,\n        price: null,\n        size: '',\n        disabled: false\n      };\n      this.maxPrice = 0;\n      this.minPrice = 99999;\n      this.paddingTop = '100%';\n      this.currentIndex = 0;\n      this.qty = 1;\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    trackByFn(index, item) {\n      if (!item) return null;\n      return item.id;\n    }\n    ngOnInit() {\n      this.apiService.getSingleProduct(this.slug, true).subscribe(result => {\n        this.product = result.product;\n        let min = this.minPrice;\n        let max = this.maxPrice;\n        this.variationGroup = this.product.variants.reduce((acc, cur) => {\n          cur.size.map(item => {\n            acc.push({\n              color: cur.color,\n              colorName: cur.color_name,\n              size: item.name,\n              price: cur.price\n            });\n          });\n          if (min > cur.price) min = cur.price;\n          if (max < cur.price) max = cur.price;\n          return acc;\n        }, []);\n        if (this.product.variants.length == 0) {\n          min = this.product.sale_price ? this.product.sale_price : this.product.price;\n          max = this.product.price;\n        }\n        this.minPrice = min;\n        this.maxPrice = max;\n        this.paddingTop = Math.floor(parseFloat(this.product.pictures[0].height.toString()) / parseFloat(this.product.pictures[0].width.toString()) * 1000) / 10 + '%';\n        this.refreshSelectableGroup();\n        let self = this;\n        imagesLoaded('.quickView-modal').on('done', function () {\n          self.loaded = true;\n        });\n      });\n    }\n    itemChange(e, self) {\n      document.querySelector('#product-image-gallery').querySelector('.product-gallery-item.active').classList.remove('active');\n      document.querySelector('#product-image-gallery').querySelectorAll('.product-gallery-item')[e.item.index].classList.add('active');\n      self.currentIndex = e.item.index;\n    }\n    addCart(event) {\n      event.preventDefault();\n      if (event.currentTarget.classList.contains('btn-disabled')) return;\n      let newProduct = {\n        ...this.product\n      };\n      if (this.product.variants.length > 0) {\n        newProduct = {\n          ...this.product,\n          name: this.product.name + ' - ' + this.selectedVariant.colorName + ', ' + this.selectedVariant.size,\n          price: this.selectedVariant.price\n        };\n      }\n      this.cartService.addToCart(newProduct, this.qty);\n    }\n    addToWishlist(event) {\n      event.preventDefault();\n      if (this.isInWishlist()) {\n        this.router.navigate(['/shop/wishlist']);\n      } else {\n        this.wishlistService.addToWishList(this.product);\n      }\n    }\n    addToCompare(event) {\n      event.preventDefault();\n      if (this.isInCompare()) return;\n      this.compareService.addToCompare(this.product);\n    }\n    isInCompare() {\n      return this.compareService.isInCompare(this.product);\n    }\n    isInWishlist() {\n      return this.wishlistService.isInWishlist(this.product);\n    }\n    refreshSelectableGroup() {\n      let tempArray = [...this.variationGroup];\n      if (this.selectedVariant.color) {\n        tempArray = this.variationGroup.reduce((acc, cur) => {\n          if (this.selectedVariant.color !== cur.color) {\n            return acc;\n          }\n          return [...acc, cur];\n        }, []);\n      }\n      this.sizeArray = tempArray.reduce((acc, cur) => {\n        if (acc.findIndex(item => item.size == cur.size) !== -1) return acc;\n        return [...acc, cur];\n      }, []);\n      tempArray = [...this.variationGroup];\n      if (this.selectedVariant.size) {\n        tempArray = this.variationGroup.reduce((acc, cur) => {\n          if (this.selectedVariant.size !== cur.size) {\n            return acc;\n          }\n          return [...acc, cur];\n        }, []);\n      }\n      this.colorArray = this.product.variants.reduce((acc, cur) => {\n        if (tempArray.findIndex(item => item.color == cur.color) == -1) {\n          return [...acc, {\n            color: cur.color,\n            colorName: cur.color_name,\n            price: cur.price,\n            disabled: true\n          }];\n        }\n        return [...acc, {\n          color: cur.color,\n          colorName: cur.color_name,\n          price: cur.price,\n          disabled: false\n        }];\n      }, []);\n      let toggle = this.el.nativeElement.querySelector('.variation-price');\n      if (toggle) {\n        if (this.selectedVariant.color && this.selectedVariant.size !== '') {\n          $(toggle).slideDown();\n        } else {\n          $(toggle).slideUp();\n        }\n      }\n    }\n    selectColor(event, item) {\n      event.preventDefault();\n      if (item.color == this.selectedVariant.color) {\n        this.selectedVariant = {\n          ...this.selectedVariant,\n          color: null,\n          colorName: null,\n          price: item.price\n        };\n      } else {\n        this.selectedVariant = {\n          ...this.selectedVariant,\n          color: item.color,\n          colorName: item.colorName,\n          price: item.price\n        };\n      }\n      this.refreshSelectableGroup();\n    }\n    selectSize(event) {\n      if (this.selectedVariant.size == 'null') {\n        this.selectedVariant = {\n          ...this.selectedVariant,\n          size: ''\n        };\n      }\n      if ($(event.target).val() == '') {\n        this.selectedVariant = {\n          ...this.selectedVariant,\n          size: ''\n        };\n      } else {\n        this.selectedVariant = {\n          ...this.selectedVariant,\n          size: $(event.target).val()\n        };\n      }\n      this.refreshSelectableGroup();\n    }\n    onChangeQty(current) {\n      this.qty = current;\n    }\n    clearSelection() {\n      this.selectedVariant = {\n        ...this.selectedVariant,\n        color: null,\n        colorName: null,\n        size: ''\n      };\n      this.refreshSelectableGroup();\n    }\n    closeQuickView() {\n      let modal = document.querySelector('.quickView-modal');\n      if (modal) modal.click();\n    }\n    changeImage($event, i = 0) {\n      this.currentIndex = i;\n      this.singleSlider.to(i);\n      $event.preventDefault();\n    }\n    static {\n      this.ɵfac = function QuickViewComponent_Factory(t) {\n        return new (t || QuickViewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.WishlistService), i0.ɵɵdirectiveInject(i4.CompareService), i0.ɵɵdirectiveInject(i5.UtilsService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i0.ElementRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: QuickViewComponent,\n        selectors: [[\"re-store-quick-view\"]],\n        viewQuery: function QuickViewComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.singleSlider = _t.first);\n          }\n        },\n        inputs: {\n          slug: \"slug\"\n        },\n        decls: 16,\n        vars: 6,\n        consts: [[1, \"container\", \"quickView-container\", 2, \"padding-left\", \"0\", \"padding-right\", \"0\"], [\"title\", \"Close (Esc)\", \"type\", \"button\", 1, \"mfp-close\", 3, \"click\"], [1, \"quickView-content\", \"horizontal\", \"skeleton-body\"], [1, \"row\", \"skel-pro-single\", \"skel-quickview\", \"mb-0\", 3, \"ngClass\"], [1, \"col-lg-6\", \"p-0\", \"pr-lg-2\", \"mb-2\", \"mb-lg-0\"], [1, \"skel-product-gallery\"], [\"class\", \"product-lg mb-1 position-relative\", 4, \"ngIf\"], [\"class\", \"product-sm row px-2\", \"id\", \"product-image-gallery\", 4, \"ngIf\"], [1, \"col-lg-6\", \"quickview-desc\", \"pl-0\", \"pl-lg-4\", \"pr-0\"], [1, \"entry-summary\"], [1, \"col-md-12\"], [1, \"entry-summary1\", \"mt-2\", \"mt-md-0\"], [1, \"entry-summary2\"], [\"class\", \"product-details w-100 pr-lg-4\", 4, \"ngIf\"], [1, \"product-lg\", \"mb-1\", \"position-relative\"], [\"class\", \"product-label label-new\", 4, \"ngIf\"], [\"class\", \"product-label label-sale\", 4, \"ngIf\"], [\"class\", \"product-label label-top\", 4, \"ngIf\"], [\"class\", \"product-label label-out\", 4, \"ngIf\"], [\"carouselClasses\", \"product-gallery-carousel owl-full owl-nav-dark\", \"id\", \"owl-quickview\", 3, \"options\"], [\"singleSlider\", \"\"], [\"class\", \"d-block position-relative\", 3, \"src\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-label\", \"label-new\"], [1, \"product-label\", \"label-sale\"], [1, \"product-label\", \"label-top\"], [1, \"product-label\", \"label-out\"], [1, \"d-block\", \"position-relative\", 3, \"src\"], [\"id\", \"product-image-gallery\", 1, \"product-sm\", \"row\", \"px-2\"], [\"href\", \"#\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"#\", 3, \"ngClass\", \"click\"], [\"alt\", \"Product side\", 1, \"product-image\", 3, \"src\"], [1, \"product-details\", \"w-100\", \"pr-lg-4\"], [1, \"product-title\"], [1, \"ratings-container\"], [1, \"ratings\"], [1, \"ratings-val\"], [1, \"tooltip-text\"], [1, \"ratings-text\"], [\"class\", \"product-price\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"product-content\"], [4, \"ngIf\"], [1, \"variation-price\", 2, \"display\", \"none\"], [1, \"product-price\"], [1, \"details-filter-row\", \"details-row-size\"], [\"for\", \"qty\"], [3, \"max\", \"value\", \"changeQty\"], [1, \"product-details-action\"], [\"href\", \"javascript:;\", 1, \"btn-product\", \"btn-cart\", 3, \"click\"], [1, \"details-action-wrapper\"], [\"href\", \"javascript:;\", 1, \"btn-product\", \"btn-wishlist\", 3, \"click\"], [1, \"product-details-footer\"], [1, \"product-cat\", \"w-100\", \"text-truncate\"], [4, \"ngFor\", \"ngForOf\"], [1, \"social-icons\", \"social-icons-sm\"], [1, \"social-label\"], [\"href\", \"javascript:;\", \"title\", \"Facebook\", 1, \"social-icon\"], [1, \"icon-facebook-f\"], [\"href\", \"javascript:;\", \"title\", \"Twitter\", 1, \"social-icon\"], [1, \"icon-twitter\"], [\"href\", \"javascript:;\", \"title\", \"Instagram\", 1, \"social-icon\"], [1, \"icon-instagram\"], [\"href\", \"javascript:;\", \"title\", \"Pinterest\", 1, \"social-icon\"], [1, \"icon-pinterest\"], [1, \"out-price\"], [1, \"new-price\"], [1, \"old-price\"], [1, \"product-nav\", \"product-nav-dots\"], [\"href\", \"javascript:;\", 3, \"active\", \"disabled\", \"background-color\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"size\"], [1, \"select-custom\"], [\"name\", \"size\", \"id\", \"size\", 1, \"form-control\", 3, \"value\", \"change\"], [\"value\", \"\", 3, \"selected\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", 1, \"size-guide\", \"mr-4\"], [1, \"icon-th-list\"], [\"href\", \"javascript:;\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:;\", 3, \"click\"], [3, \"value\", \"selected\"], [3, \"routerLink\", \"queryParams\", \"click\"]],\n        template: function QuickViewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n            i0.ɵɵlistener(\"click\", function QuickViewComponent_Template_button_click_1_listener() {\n              return ctx.closeQuickView();\n            });\n            i0.ɵɵtext(2, \"\\u00D7\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4);\n            i0.ɵɵelement(6, \"div\", 5);\n            i0.ɵɵtemplate(7, QuickViewComponent_div_7_Template, 8, 6, \"div\", 6);\n            i0.ɵɵtemplate(8, QuickViewComponent_div_8_Template, 2, 1, \"div\", 7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10);\n            i0.ɵɵelement(12, \"div\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 10);\n            i0.ɵɵelement(14, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(15, QuickViewComponent_div_15_Template, 48, 18, \"div\", 13);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c3, ctx.loaded));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n          }\n        },\n        dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i6.RouterLink, i8.OwlCarousel, i9.QuantityInputComponent, i10.ImageComponent],\n        styles: [\".modal-open{padding-right:0!important}\\n\"],\n        encapsulation: 2\n      });\n    }\n  }\n  return QuickViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}