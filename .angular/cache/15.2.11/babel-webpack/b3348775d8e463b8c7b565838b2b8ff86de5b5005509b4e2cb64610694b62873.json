{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter, first } from 'rxjs/operators';\nimport { RefreshStoreAction } from 'src/app/core/actions/actions';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./core/store/store.service\";\nimport * as i5 from \"./shared/services/utils.service\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nconst _c0 = function (a0) {\n  return {\n    show: a0\n  };\n};\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(store, router, viewPort, storeService, utilsService, modalService) {\n      this.store = store;\n      this.router = router;\n      this.viewPort = viewPort;\n      this.storeService = storeService;\n      this.utilsService = utilsService;\n      this.modalService = modalService;\n      const navigationEnd = this.router.events.pipe(filter(event => event instanceof NavigationEnd));\n      navigationEnd.pipe(first()).subscribe(() => {\n        document.querySelector('body')?.classList.add('loaded');\n        var timer = setInterval(() => {\n          if (window.getComputedStyle(document.querySelector('body')).visibility == 'visible') {\n            clearInterval(timer);\n            $('.owl-carousel').trigger('refresh.owl.carousel');\n          }\n        }, 300);\n      });\n      navigationEnd.subscribe(event => {\n        if (!event.url.includes('/shop/sidebar') && !event.url.includes('/shop/nosidebar') && !event.url.includes('/shop/market') && !event.url.includes('/blog')) {\n          this.viewPort.scrollToPosition([0, 0]);\n        }\n        if (event.url == '/') {\n          document.querySelector('.header').classList.remove('position-relative');\n        } else {\n          document.querySelector('.header').classList.add('position-relative');\n        }\n        if (event.url.startsWith('/product') || event.url.startsWith('/pages') && !event.url.includes('faq')) {\n          document.querySelector('.header').classList.remove('border-0');\n        } else {\n          document.querySelector('.header').classList.add('border-0');\n        }\n        this.modalService.dismissAll();\n      });\n      if (localStorage.getItem(\"molla-angular-demo\") !== environment.demo) {\n        this.store.dispatch(new RefreshStoreAction());\n      }\n      localStorage.setItem(\"molla-angular-demo\", environment.demo);\n    }\n    onWindowScroll(e) {\n      this.utilsService.setStickyHeader();\n    }\n    hideMobileMenu() {\n      document.querySelector('body').classList.remove('mmenu-active');\n      document.querySelector('html').style.overflowX = 'unset';\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ViewportScroller), i0.ɵɵdirectiveInject(i4.StoreService), i0.ɵɵdirectiveInject(i5.UtilsService), i0.ɵɵdirectiveInject(i6.NgbModal));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"molla-root\"]],\n        hostBindings: function AppComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"scroll\", function AppComponent_scroll_HostBindingHandler($event) {\n              return ctx.onWindowScroll($event);\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        decls: 5,\n        vars: 3,\n        consts: [[1, \"mobile-menu-overlay\", 3, \"click\"], [\"id\", \"scroll-top\", \"title\", \"Back to Top\", 3, \"ngClass\", \"click\"], [1, \"icon-arrow-up\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"router-outlet\");\n            i0.ɵɵelementStart(1, \"div\", 0);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_div_click_1_listener() {\n              return ctx.hideMobileMenu();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(2, \"molla-mobile-menu\");\n            i0.ɵɵelementStart(3, \"button\", 1);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_3_listener($event) {\n              return ctx.utilsService.scrollTop($event);\n            });\n            i0.ɵɵelement(4, \"i\", 2);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c0, ctx.utilsService.isSticky));\n          }\n        }\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}