{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/services/modal.service\";\nimport * as i3 from \"src/app/shared/services/cart.service\";\nimport * as i4 from \"src/app/shared/services/wishlist.service\";\nimport * as i5 from \"src/app/shared/services/compare.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../image/image.component\";\nfunction ProductEightComponent_re_store_image_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"re-store-image\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.SERVER_URL + ctx_r0.product.sm_pictures[1].url);\n  }\n}\nfunction ProductEightComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"span\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r1.product.price.toFixed(2), \"\");\n  }\n}\nfunction ProductEightComponent_ng_template_10_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r4.minPrice.toFixed(2), \"\");\n  }\n}\nfunction ProductEightComponent_ng_template_10_ng_template_1_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"span\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r7.minPrice.toFixed(2), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r7.maxPrice.toFixed(2), \"\");\n  }\n}\nfunction ProductEightComponent_ng_template_10_ng_template_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" $\", ctx_r9.minPrice.toFixed(2), \"\\u2013$\", ctx_r9.maxPrice.toFixed(2), \"\");\n  }\n}\nfunction ProductEightComponent_ng_template_10_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductEightComponent_ng_template_10_ng_template_1_div_0_Template, 5, 2, \"div\", 7);\n    i0.ɵɵtemplate(1, ProductEightComponent_ng_template_10_ng_template_1_ng_template_1_Template, 2, 2, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r8 = i0.ɵɵreference(2);\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.product.variants.length == 0)(\"ngIfElse\", _r8);\n  }\n}\nfunction ProductEightComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductEightComponent_ng_template_10_div_0_Template, 2, 1, \"div\", 7);\n    i0.ɵɵtemplate(1, ProductEightComponent_ng_template_10_ng_template_1_Template, 3, 2, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(2);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.minPrice == ctx_r3.maxPrice)(\"ngIfElse\", _r5);\n  }\n}\nconst _c0 = function (a0) {\n  return [a0];\n};\nexport let ProductEightComponent = /*#__PURE__*/(() => {\n  class ProductEightComponent {\n    constructor(router, modalService, cartService, wishlistService, compareService) {\n      this.router = router;\n      this.modalService = modalService;\n      this.cartService = cartService;\n      this.wishlistService = wishlistService;\n      this.compareService = compareService;\n      this.maxPrice = 0;\n      this.minPrice = 99999;\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    ngOnInit() {\n      let min = this.minPrice;\n      let max = this.maxPrice;\n      this.product.variants.map(item => {\n        if (min > item.price) min = item.price;\n        if (max < item.price) max = item.price;\n      }, []);\n      if (this.product.variants.length == 0) {\n        min = this.product.sale_price ? this.product.sale_price : this.product.price;\n        max = this.product.price;\n      }\n      this.minPrice = min;\n      this.maxPrice = max;\n    }\n    addToCart(event) {\n      event.preventDefault();\n      this.cartService.addToCart(this.product);\n    }\n    addToWishlist(event) {\n      event.preventDefault();\n      if (this.isInWishlist()) {\n        this.router.navigate(['/shop/wishlist']);\n      } else {\n        this.wishlistService.addToWishList(this.product);\n      }\n    }\n    addToCompare(event) {\n      event.preventDefault();\n      if (this.isInCompare()) return;\n      this.compareService.addToCompare(this.product);\n    }\n    quickView(event) {\n      event.preventDefault();\n      this.modalService.showQuickView(this.product);\n    }\n    isInCompare() {\n      return this.compareService.isInCompare(this.product);\n    }\n    isInWishlist() {\n      return this.wishlistService.isInWishlist(this.product);\n    }\n    static {\n      this.ɵfac = function ProductEightComponent_Factory(t) {\n        return new (t || ProductEightComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ModalService), i0.ɵɵdirectiveInject(i3.CartService), i0.ɵɵdirectiveInject(i4.WishlistService), i0.ɵɵdirectiveInject(i5.CompareService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductEightComponent,\n        selectors: [[\"re-store-product-eight\"]],\n        inputs: {\n          product: \"product\"\n        },\n        decls: 12,\n        vars: 13,\n        consts: [[1, \"product\", \"product-sm\"], [1, \"product-media\"], [3, \"routerLink\"], [\"alt\", \"Product\", \"fixedPt\", \"100%\", 1, \"product-image\", 3, \"src\", \"width\", \"height\"], [\"alt\", \"Product\", \"fixedPt\", \"100%\", \"class\", \"product-image-hover\", 3, \"src\", 4, \"ngIf\"], [1, \"product-body\"], [1, \"product-title\"], [\"class\", \"product-price\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"alt\", \"Product\", \"fixedPt\", \"100%\", 1, \"product-image-hover\", 3, \"src\"], [1, \"product-price\"], [1, \"out-price\"], [1, \"new-price\"], [1, \"old-price\"]],\n        template: function ProductEightComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"figure\", 1)(2, \"a\", 2);\n            i0.ɵɵelement(3, \"re-store-image\", 3);\n            i0.ɵɵtemplate(4, ProductEightComponent_re_store_image_4_Template, 1, 1, \"re-store-image\", 4);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(5, \"div\", 5)(6, \"h3\", 6)(7, \"a\", 2);\n            i0.ɵɵtext(8);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(9, ProductEightComponent_div_9_Template, 3, 1, \"div\", 7);\n            i0.ɵɵtemplate(10, ProductEightComponent_ng_template_10_Template, 3, 2, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            const _r2 = i0.ɵɵreference(11);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, \"/product/default/\" + ctx.product.slug));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"src\", ctx.SERVER_URL + ctx.product.sm_pictures[0].url)(\"width\", ctx.product.sm_pictures[0].width)(\"height\", ctx.product.sm_pictures[0].height);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.sm_pictures[1]);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c0, \"/product/default/\" + ctx.product.slug));\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate(ctx.product.name);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.product.stock || ctx.product.stock == 0)(\"ngIfElse\", _r2);\n          }\n        },\n        dependencies: [i6.NgIf, i1.RouterLink, i7.ImageComponent]\n      });\n    }\n  }\n  return ProductEightComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}