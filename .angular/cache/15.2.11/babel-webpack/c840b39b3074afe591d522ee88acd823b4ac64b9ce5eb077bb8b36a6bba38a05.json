{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/services/utils.service\";\nimport * as i3 from \"src/app/shared/services/api.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/components/page-header/page-header.component\";\nimport * as i6 from \"../shared/sidebar/shop-sidebar-one/shop-sidebar-one.component\";\nimport * as i7 from \"../shared/list/shop-list-three/shop-list-three.component\";\nfunction NosidebarPageComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 4)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Search - \", ctx_r0.searchTerm, \"\");\n  }\n}\nexport let NosidebarPageComponent = /*#__PURE__*/(() => {\n  class NosidebarPageComponent {\n    constructor(activeRoute, router, utilsService, apiService) {\n      this.activeRoute = activeRoute;\n      this.router = router;\n      this.utilsService = utilsService;\n      this.apiService = apiService;\n      this.products = [];\n      this.perPage = 12;\n      this.type = 'boxed';\n      this.totalCount = 0;\n      this.orderBy = 'default';\n      this.pageTitle = 'Boxed No Sidebar';\n      this.searchTerm = '';\n      this.containerClass = 'container';\n      this.cols = \"col-6 col-md-4 col-lg-4 col-xl-3\";\n      this.loaded = false;\n      this.moreLoading = false;\n      this.params = {};\n      this.activeRoute.params.subscribe(params => {\n        this.type = params['type'];\n        this.perPage = 12;\n        if (this.type == 'boxed') {\n          this.pageTitle = 'Boxed No Sidebar';\n          this.containerClass = 'container';\n          this.cols = \"col-6 col-md-4 col-lg-4 col-xl-3\";\n        } else {\n          this.pageTitle = 'Fullwidth No Sidebar';\n          this.containerClass = 'container-fluid';\n          this.cols = \"col-6 col-md-4 col-lg-4 col-xl-3 col-xxl-2\";\n        }\n      });\n      this.activeRoute.queryParams.subscribe(params => {\n        this.params = params;\n        this.perPage = 12;\n        this.loadProducts();\n      });\n    }\n    ngOnInit() {}\n    loadProducts() {\n      this.loaded = false;\n      if (this.params['searchTerm']) {\n        this.searchTerm = this.params['searchTerm'];\n      } else {\n        this.searchTerm = '';\n      }\n      if (this.params['orderBy']) {\n        this.orderBy = this.params['orderBy'];\n      } else {\n        this.orderBy = 'default';\n      }\n      this.apiService.fetchShopData(this.params, this.perPage).subscribe(result => {\n        this.products = result.products;\n        this.totalCount = result.totalCount;\n        this.loaded = true;\n        this.utilsService.scrollToPageContent();\n      });\n    }\n    changeOrderBy(event) {\n      this.router.navigate([], {\n        queryParams: {\n          orderBy: event.currentTarget.value,\n          page: 1\n        },\n        queryParamsHandling: 'merge'\n      });\n    }\n    toggleSidebar() {\n      if (document.querySelector('body').classList.contains('sidebar-filter-active')) document.querySelector('body').classList.remove('sidebar-filter-active');else document.querySelector('body').classList.add('sidebar-filter-active');\n    }\n    hideSidebar() {\n      document.querySelector('body').classList.remove('sidebar-filter-active');\n    }\n    loadMore(e) {\n      e.preventDefault();\n      if (this.products.length < this.totalCount) {\n        this.moreLoading = true;\n        setTimeout(() => {\n          this.apiService.fetchShopData(this.params, 4, 'shop?from=' + this.perPage).subscribe(result => {\n            this.products = [...this.products, ...result.products];\n            this.totalCount = result.totalCount;\n            this.moreLoading = false;\n          });\n          this.perPage += 4;\n        }, 500);\n      }\n    }\n    static {\n      this.ɵfac = function NosidebarPageComponent_Factory(t) {\n        return new (t || NosidebarPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UtilsService), i0.ɵɵdirectiveInject(i3.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: NosidebarPageComponent,\n        selectors: [[\"shop-nosidebar-page\"]],\n        decls: 50,\n        vars: 18,\n        consts: [[1, \"main\"], [\"subtitle\", \"Shop\", 3, \"title\"], [1, \"breadcrumb-nav\", \"mb-2\"], [1, \"breadcrumb\"], [1, \"breadcrumb-item\"], [\"routerLink\", \"/\"], [\"routerLink\", \"/shop/sidebar/list\"], [1, \"breadcrumb-item\", \"active\"], [\"class\", \"breadcrumb-item\", 4, \"ngIf\"], [1, \"page-content\"], [1, \"toolbox\"], [1, \"toolbox-left\", \"d-none\", \"d-lg-flex\"], [\"href\", \"javascript:;\", 1, \"sidebar-toggler\", \"mr-0\", \"mr-md-5\", 3, \"click\"], [1, \"icon-bars\"], [1, \"toolbox-center\"], [1, \"toolbox-info\"], [1, \"toolbox-right\"], [1, \"toolbox-sort\"], [\"for\", \"sortby\"], [1, \"select-custom\"], [\"name\", \"sortby\", \"id\", \"sortby\", 1, \"form-control\", 3, \"value\", \"change\"], [\"value\", \"default\"], [\"value\", \"featured\"], [\"value\", \"rating\"], [\"value\", \"new\"], [3, \"products\", \"loaded\", \"cols\"], [1, \"load-more-container\", \"text-center\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-outline-darker\", \"btn-load-more\", 3, \"click\"], [1, \"icon-refresh\"], [3, \"toggle\"], [1, \"sidebar-fixed-toggler\", \"d-lg-none\", 3, \"click\"], [1, \"icon-cog\"], [1, \"sidebar-filter-overlay\", 3, \"click\"]],\n        template: function NosidebarPageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵelement(1, \"molla-page-header\", 1);\n            i0.ɵɵelementStart(2, \"nav\", 2)(3, \"div\")(4, \"ol\", 3)(5, \"li\", 4)(6, \"a\", 5);\n            i0.ɵɵtext(7, \"Home\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"li\", 4)(9, \"a\", 6);\n            i0.ɵɵtext(10, \"Shop\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"li\", 7);\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(13, NosidebarPageComponent_li_13_Template, 3, 1, \"li\", 8);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(14, \"div\", 9)(15, \"div\")(16, \"div\", 10)(17, \"div\", 11)(18, \"a\", 12);\n            i0.ɵɵlistener(\"click\", function NosidebarPageComponent_Template_a_click_18_listener() {\n              return ctx.toggleSidebar();\n            });\n            i0.ɵɵelement(19, \"i\", 13);\n            i0.ɵɵtext(20, \"Filters \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 14)(22, \"div\", 15);\n            i0.ɵɵtext(23, \" Showing \");\n            i0.ɵɵelementStart(24, \"span\");\n            i0.ɵɵtext(25);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(26, \" Products \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"div\", 16)(28, \"div\", 17)(29, \"label\", 18);\n            i0.ɵɵtext(30, \"Sort by:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"div\", 19)(32, \"select\", 20);\n            i0.ɵɵlistener(\"change\", function NosidebarPageComponent_Template_select_change_32_listener($event) {\n              return ctx.changeOrderBy($event);\n            });\n            i0.ɵɵelementStart(33, \"option\", 21);\n            i0.ɵɵtext(34, \"Default\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"option\", 22);\n            i0.ɵɵtext(36, \"Most Popular\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"option\", 23);\n            i0.ɵɵtext(38, \"Most Rated\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(39, \"option\", 24);\n            i0.ɵɵtext(40, \"Date\");\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelement(41, \"molla-shop-list-three\", 25);\n            i0.ɵɵelementStart(42, \"div\", 26)(43, \"a\", 27);\n            i0.ɵɵlistener(\"click\", function NosidebarPageComponent_Template_a_click_43_listener($event) {\n              return ctx.loadMore($event);\n            });\n            i0.ɵɵtext(44, \" More Products \");\n            i0.ɵɵelement(45, \"i\", 28);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(46, \"molla-shop-sidebar-one\", 29);\n            i0.ɵɵelementStart(47, \"button\", 30);\n            i0.ɵɵlistener(\"click\", function NosidebarPageComponent_Template_button_click_47_listener() {\n              return ctx.toggleSidebar();\n            });\n            i0.ɵɵelement(48, \"i\", 31);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"div\", 32);\n            i0.ɵɵlistener(\"click\", function NosidebarPageComponent_Template_div_click_49_listener() {\n              return ctx.hideSidebar();\n            });\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"title\", ctx.pageTitle);\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassMap(ctx.containerClass);\n            i0.ɵɵadvance(9);\n            i0.ɵɵtextInterpolate(ctx.pageTitle);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.searchTerm != \"\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵclassMap(ctx.containerClass);\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate2(\"\", ctx.products.length, \" of \", ctx.totalCount, \"\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"value\", ctx.orderBy);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"products\", ctx.products)(\"loaded\", ctx.loaded)(\"cols\", ctx.cols);\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassProp(\"d-none\", ctx.totalCount <= ctx.products.length && !ctx.moreLoading);\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"load-more-rotating\", ctx.moreLoading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"toggle\", true);\n          }\n        },\n        dependencies: [i4.NgIf, i5.PageHeaderComponent, i1.RouterLink, i6.ShopSidebarOneComponent, i7.ShopListThreeComponent],\n        styles: [\"[_nghost-%COMP%]     .product-nav-thumbs a{width:3.5rem;height:3.5rem}[_nghost-%COMP%]     .product-media img{height:100%;object-fit:cover}\"]\n      });\n    }\n  }\n  return NosidebarPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}