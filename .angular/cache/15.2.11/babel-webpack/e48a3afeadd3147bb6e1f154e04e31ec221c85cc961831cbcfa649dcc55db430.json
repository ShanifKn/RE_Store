{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-lightbox\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../../shared/components/image/image.component\";\nfunction GalleryMasonryComponent_div_0_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵtext(1, \"New\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryMasonryComponent_div_0_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵtext(1, \"Sale\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryMasonryComponent_div_0_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \"Top\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryMasonryComponent_div_0_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Out Of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GalleryMasonryComponent_div_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function GalleryMasonryComponent_div_0_div_15_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeImage($event, 1));\n    });\n    i0.ɵɵelement(2, \"re-store-image\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(\"product-masonry-item p-0 w-100\" + (1 === ctx_r5.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r5.SERVER_URL + ctx_r5.product.sm_pictures[1].url);\n  }\n}\nfunction GalleryMasonryComponent_div_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function GalleryMasonryComponent_div_0_div_16_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.changeImage($event, 2));\n    });\n    i0.ɵɵelement(2, \"re-store-image\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(\"product-masonry-item p-0 w-100\" + (2 === ctx_r6.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r6.SERVER_URL + ctx_r6.product.sm_pictures[2].url);\n  }\n}\nfunction GalleryMasonryComponent_div_0_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function GalleryMasonryComponent_div_0_div_17_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.changeImage($event, 3));\n    });\n    i0.ɵɵelement(2, \"re-store-image\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(\"product-masonry-item p-0 w-100\" + (3 === ctx_r7.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r7.SERVER_URL + ctx_r7.product.sm_pictures[3].url);\n  }\n}\nfunction GalleryMasonryComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"figure\", 3);\n    i0.ɵɵtemplate(3, GalleryMasonryComponent_div_0_span_3_Template, 2, 0, \"span\", 4);\n    i0.ɵɵtemplate(4, GalleryMasonryComponent_div_0_span_4_Template, 2, 0, \"span\", 5);\n    i0.ɵɵtemplate(5, GalleryMasonryComponent_div_0_span_5_Template, 2, 0, \"span\", 6);\n    i0.ɵɵtemplate(6, GalleryMasonryComponent_div_0_span_6_Template, 2, 0, \"span\", 7);\n    i0.ɵɵelement(7, \"re-store-image\", 8);\n    i0.ɵɵelementStart(8, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function GalleryMasonryComponent_div_0_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.openLightBox());\n    });\n    i0.ɵɵelement(9, \"i\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"div\", 12)(12, \"div\", 13)(13, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function GalleryMasonryComponent_div_0_Template_button_click_13_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.changeImage($event, 0));\n    });\n    i0.ɵɵelement(14, \"re-store-image\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, GalleryMasonryComponent_div_0_div_15_Template, 3, 3, \"div\", 16);\n    i0.ɵɵtemplate(16, GalleryMasonryComponent_div_0_div_16_Template, 3, 3, \"div\", 16);\n    i0.ɵɵtemplate(17, GalleryMasonryComponent_div_0_div_17_Template, 3, 3, \"div\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.new);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.sale_price);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.top);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.product.stock || ctx_r0.product.stock == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.SERVER_URL + ctx_r0.product.pictures[ctx_r0.currentIndex].url);\n    i0.ɵɵadvance(6);\n    i0.ɵɵclassMap(\"product-masonry-item p-0 w-100\" + (0 === ctx_r0.currentIndex ? \" active\" : \"\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.SERVER_URL + ctx_r0.product.sm_pictures[0].url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.sm_pictures.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.sm_pictures.length > 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.sm_pictures.length > 3);\n  }\n}\nexport let GalleryMasonryComponent = /*#__PURE__*/(() => {\n  class GalleryMasonryComponent {\n    constructor(lightBox) {\n      this.lightBox = lightBox;\n      this.adClass = 'product-gallery-vertical';\n      this.paddingTop = '100%';\n      this.currentIndex = 0;\n      this.album = [];\n      this.lightBoxOption = {\n        showImageNumberLabel: true,\n        centerVertically: true,\n        showZoom: true,\n        fadeDuration: .2,\n        albumLabel: \"%1 / %2\"\n      };\n      this.SERVER_URL = environment.SERVER_URL;\n    }\n    ngOnChanges() {\n      this.album = [];\n      for (let i = 0; i < this.product.pictures.length; i++) {\n        this.album.push({\n          src: this.SERVER_URL + this.product.pictures[i].url,\n          thumb: this.SERVER_URL + this.product.sm_pictures[i].url,\n          caption: this.product.name\n        });\n      }\n    }\n    closeLightBox(event) {\n      this.lightBox.close();\n    }\n    ngOnInit() {\n      this.paddingTop = Math.floor(parseFloat(this.product.pictures[0].height.toString()) / parseFloat(this.product.pictures[0].width.toString()) * 1000) / 10 + '%';\n    }\n    changeImage($event, index = 0) {\n      this.currentIndex = index;\n      $event.preventDefault();\n    }\n    openLightBox() {\n      this.lightBox.open(this.album, this.currentIndex, this.lightBoxOption);\n    }\n    static {\n      this.ɵfac = function GalleryMasonryComponent_Factory(t) {\n        return new (t || GalleryMasonryComponent)(i0.ɵɵdirectiveInject(i1.Lightbox));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: GalleryMasonryComponent,\n        selectors: [[\"product-gallery-masonry\"]],\n        hostBindings: function GalleryMasonryComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"resize\", function GalleryMasonryComponent_resize_HostBindingHandler($event) {\n              return ctx.closeLightBox($event);\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        inputs: {\n          product: \"product\",\n          adClass: \"adClass\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 1,\n        vars: 1,\n        consts: [[\"class\", \"product-gallery product-gallery-masonry\", 4, \"ngIf\"], [1, \"product-gallery\", \"product-gallery-masonry\"], [1, \"row\", \"m-0\"], [\"index\", \"0\", 1, \"product-main-image\"], [\"class\", \"product-label label-new\", 4, \"ngIf\"], [\"class\", \"product-label label-sale\", 4, \"ngIf\"], [\"class\", \"product-label label-top\", 4, \"ngIf\"], [\"class\", \"product-label label-out\", 4, \"ngIf\"], [1, \"d-block\", \"position-relative\", 3, \"src\"], [\"id\", \"btn-product-gallery\", \"href\", \"javascript:;\", 1, \"btn-product-gallery\", 3, \"click\"], [1, \"icon-arrows\"], [\"id\", \"product-zoom-gallery\", 1, \"product-image-gallery\", \"mr-0\", \"ml-0\"], [1, \"row\", 2, \"width\", \"calc( 100% + 10px )\"], [1, \"col-5\", \"d-flex\", \"mb-1\"], [3, \"click\"], [\"alt\", \"Product back\", 1, \"w-100\", 3, \"src\"], [\"class\", \"col-7 d-flex mb-1\", 4, \"ngIf\"], [\"class\", \"col-5 d-flex mb-1\", 4, \"ngIf\"], [1, \"product-label\", \"label-new\"], [1, \"product-label\", \"label-sale\"], [1, \"product-label\", \"label-top\"], [1, \"product-label\", \"label-out\"], [1, \"col-7\", \"d-flex\", \"mb-1\"]],\n        template: function GalleryMasonryComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, GalleryMasonryComponent_div_0_Template, 18, 11, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.product);\n          }\n        },\n        dependencies: [i2.NgIf, i3.ImageComponent]\n      });\n    }\n  }\n  return GalleryMasonryComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}