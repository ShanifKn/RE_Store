{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { BehaviorSubject } from 'rxjs';\nimport { wishlistSelector } from 'src/app/core/selectors/selectors';\nimport { AddToWishListAction, RemoveFromWishListAction, AddToCartAction } from 'src/app/core/actions/actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"ngx-toastr\";\nexport let WishlistService = /*#__PURE__*/(() => {\n  class WishlistService {\n    constructor(store, toastrService) {\n      this.store = store;\n      this.toastrService = toastrService;\n      this.wishlist = [];\n      this.wishlistStream = new BehaviorSubject([]);\n      this.wishlistQty = new BehaviorSubject(0);\n      store.pipe(select(wishlistSelector)).subscribe(items => {\n        this.wishlist = items;\n        this.wishlistStream.next(items);\n        this.wishlistQty.next(items.length);\n      });\n    }\n    // Product add to Wishlist\n    addToWishList(product) {\n      if (this.wishlist.findIndex(item => item.id === product.id) === -1) {\n        this.store.dispatch(new AddToWishListAction({\n          product\n        }));\n        this.toastrService.success('Product added to Wishlist.');\n      }\n    }\n    // Product removed from Wishlist\n    removeFromWishList(product) {\n      this.store.dispatch(new RemoveFromWishListAction({\n        product\n      }));\n      this.toastrService.success('Product removed from Wishlist.');\n    }\n    // Product moved from Wishlist to Cart\n    moveToCart(product) {\n      this.store.dispatch(new RemoveFromWishListAction({\n        product\n      }));\n      this.store.dispatch(new AddToCartAction({\n        product,\n        qty: 1\n      }));\n      this.toastrService.success('Product moved to Cart.');\n    }\n    // Check whether product is in Wishlist or not\n    isInWishlist(product) {\n      return this.wishlist.find(item => item.id == product.id) ? true : false;\n    }\n    static {\n      this.ɵfac = function WishlistService_Factory(t) {\n        return new (t || WishlistService)(i0.ɵɵinject(i1.Store), i0.ɵɵinject(i2.ToastrService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: WishlistService,\n        factory: WishlistService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return WishlistService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}